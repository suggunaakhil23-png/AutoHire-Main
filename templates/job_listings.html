<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AutoHire – Jobs</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:#f8fafc;color:#0f172a}
.header{height:64px;background:#fff;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between;padding:0 32px}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}
.brand span{background:#2563eb;color:#fff;padding:8px;border-radius:10px}
.nav{display:flex;gap:22px;font-size:14px}
.nav a{text-decoration:none;color:#475569;font-weight:500}
.nav a.active{background:#eef2ff;color:#2563eb;padding:6px 12px;border-radius:999px}
.avatar{width:34px;height:34px;border-radius:50%;background:#fde68a}
.hero{margin:24px 32px;background:radial-gradient(circle at top,#1e293b,#020617);border-radius:16px;padding:48px;color:#fff;text-align:center}
.hero h1{margin:0;font-size:32px;font-weight:800}
.hero p{margin-top:10px;font-size:15px;color:#cbd5f5}
.layout{display:grid;grid-template-columns:260px 1fr;gap:24px;padding:0 32px 40px}
.filters{background:#fff;border-radius:16px;padding:20px;border:1px solid #e5e7eb}
.results{display:flex;flex-direction:column;gap:20px}
.result{background:#fff;border-radius:16px;padding:20px;border:1px solid #e5e7eb}
.result-top{display:flex;justify-content:space-between;align-items:flex-start}
.company{display:flex;gap:14px}
.logo{width:48px;height:48px;border-radius:12px;background:#e5e7eb}
.title{font-weight:600;font-size:16px}
.meta{font-size:13px;color:#64748b;margin-top:4px}
.match{background:#22c55e;color:#fff;font-size:12px;padding:6px 10px;border-radius:999px;font-weight:600}
.desc{font-size:14px;color:#475569;margin:16px 0;line-height:1.6}
.actions{display:flex;gap:12px}
.apply{background:#2563eb;color:#fff;border:none;padding:10px 18px;border-radius:10px;font-weight:600}
.details{background:#fff;border:1px solid #e5e7eb;padding:10px 18px;border-radius:10px;font-weight:500}
</style>
</head>
<body>

<div class="header">
    <div class="brand"><span>✨</span> AutoHire</div>
    <nav class="nav">
        <a href="/dashboard/{{ user.id }}">Dashboard</a>
        <a class="active">Jobs</a>
        <a href = "/applications/{{user.id}}">Applications</a>
    </nav>
    <div class="avatar"><a href = "/profile/{{user.id}}"><img src = "{{user.image}}"></a></div>
</div>

<div class="hero">
    <h1>Find your next opportunity</h1>
    <p>Based on your profile, we found {{ jobs|length }} jobs</p>
</div>

<div class="layout">

<aside class="filters">
    <h4>Role</h4>
    <p>{{ user.role }}</p>
    <h4 style="margin-top:20px">Location</h4>
    <p>{{ user.address }}</p>
</aside>

<section class="results">

{% for job in jobs %}
<div class="result">
    <div class="result-top">
        <div class="company">
            <div class="logo"></div>
            <div>
                <div class="title">{{ job.title }}</div>
                <div class="meta">{{ job.company_name }} · Remote</div>
            </div>
        </div>
        <div class="match">Apply</div>
    </div>

    <p class="desc">{{ job.description | striptags | truncate(180) }}</p>

    <div class="actions">
        <a href="/auto_apply/{{ user.id }}?job={{ job.url }}&title={{ job.title }}&company={{ job.company_name }}">
            <button class="apply">Auto Apply</button>
        </a>
        <a href="{{ job.url }}" target="_blank">
            <button class="details">View Details</button>
        </a>
    </div>
</div>
{% endfor %}

</section>

</div>

</body>
</html>
