<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AutoHire â€“ Analytics</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:#f8fafc;color:#0f172a}
.app{display:flex;min-height:100vh}
.sidebar{width:260px;background:#fff;border-right:1px solid #e5e7eb;padding:24px;display:flex;flex-direction:column;gap:24px}
.brand{display:flex;align-items:center;gap:12px;font-weight:700}
.brand span{background:#2563eb;color:#fff;padding:10px;border-radius:12px}
.nav{display:flex;flex-direction:column;gap:8px}
.nav a{text-decoration:none;color:#475569;padding:12px 14px;border-radius:12px;font-weight:500}
.nav a.active{background:#eef2ff;color:#2563eb;font-weight:600}
.user{margin-top:auto;display:flex;align-items:center;gap:12px}
.avatar{width:42px;height:42px;border-radius:50%;background:#fed7aa}
.main{flex:1;padding:32px}
.cards{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-top:24px}
.card{background:#fff;border-radius:16px;padding:20px;border:1px solid #e5e7eb}
.grid{display:grid;grid-template-columns:2fr 1fr;gap:24px;margin-top:24px}
.panel{background:#fff;border-radius:16px;border:1px solid #e5e7eb;padding:20px}
.bar{height:10px;border-radius:999px;background:#e5e7eb;overflow:hidden;margin-bottom:12px}
.fill{height:100%;background:#2563eb;width:0%}
.activity{display:flex;flex-direction:column;gap:16px;margin-top:16px}
</style>
</head>

<body>

<div class="app">

<aside class="sidebar">
<div class="brand"><span>ðŸš€</span>AutoHire</div>

<nav class="nav">
<a href="/dashboard/{{ user.id }}">Dashboard</a>
<a href="/jobs/{{ user.id }}">Jobs</a>
<a class="active">Analytics</a>
</nav>

<div class="user">
<div class="avatar"></div>
<div>
{{ user.name }}<br>
<small>{% if user.is_premium %}Pro Plan{% else %}Free Plan{% endif %}</small>
</div>
</div>
</aside>

<main class="main">

<h1>Analytics Overview</h1>

<div class="cards">
<div class="card">Total Applications<br><strong>{{ user.apply }}</strong></div>
<div class="card">Shortlisted<br><strong>{{ user.shortlist }}</strong></div>
<div class="card">Interviews<br><strong>{{ user.interview }}</strong></div>
<div class="card">Rejected<br><strong>{{ user.reject }}</strong></div>
</div>

<div class="grid">

<div class="panel">
<h3>Success Funnel</h3>

<p>Applied</p>
<div class="bar"><div class="fill" data-value="{{ funnel.applied }}"></div></div>

<p>Shortlisted</p>
<div class="bar"><div class="fill" data-value="{{ funnel.shortlisted }}"></div></div>

<p>Interview</p>
<div class="bar"><div class="fill" data-value="{{ funnel.interview }}"></div></div>

</div>

<div class="panel">
<h3>Live Activity</h3>
<div class="activity">
{% for app in apps %}
<div>{{ app.company }} â€“ {{ app.job_title }} ({{ app.status }})</div>
{% endfor %}
</div>
</div>

</div>

</main>
</div>

<script>
document.querySelectorAll(".fill").forEach(el=>{
    el.style.width = el.dataset.value + "%"
})
</script>

</body>
</html>
